# ===============================================================
# MONITOR LEGISLATIVO v4 - PRODUCTION ENVIRONMENT TEMPLATE
# ===============================================================
# 
# IMPORTANT: 
# 1. Copy this file to .env.production
# 2. Replace all [PLACEHOLDER] values with actual production values
# 3. Never commit this file with real values to version control
# 4. Set file permissions to 600 (read/write owner only)
#
# Security Level: CRITICAL - Contains production secrets
# ===============================================================

# === APPLICATION CONFIGURATION ===
NODE_ENV=production
FLASK_ENV=production
APP_ENV=production
APP_NAME=monitor_legislativo_v4
APP_VERSION=4.0.0
APP_PORT=5000
APP_URL=https://monitor-legislativo.gov.br
DEBUG=false
TESTING=false

# === SECURITY CONFIGURATION ===
SECRET_KEY=[GENERATE_STRONG_SECRET_32_BYTES]
JWT_SECRET_KEY=[GENERATE_JWT_SECRET_32_BYTES]
JWT_ACCESS_TOKEN_EXPIRES=86400
JWT_REFRESH_TOKEN_EXPIRES=2592000
ENCRYPTION_KEY=[GENERATE_ENCRYPTION_KEY_32_BYTES]
ALLOWED_ORIGINS=https://monitor-legislativo.gov.br,https://api.monitor-legislativo.gov.br
SECURE_COOKIES=true

# === DATABASE CONFIGURATION ===
DB_HOST=[PRODUCTION_DB_HOST]
DB_PORT=5432
DB_NAME=monitor_legislativo_prod
DB_USER=[PRODUCTION_DB_USER]
DB_PASSWORD=[PRODUCTION_DB_PASSWORD_ENCRYPTED]
DATABASE_URL=postgresql://[DB_USER]:[DB_PASSWORD]@[DB_HOST]:5432/[DB_NAME]
DB_SSL=true
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_TIMEOUT=30
SQLALCHEMY_TRACK_MODIFICATIONS=false

# === REDIS CONFIGURATION (Cache and Sessions) ===
REDIS_HOST=[PRODUCTION_REDIS_HOST]
REDIS_PORT=6379
REDIS_PASSWORD=[PRODUCTION_REDIS_PASSWORD]
REDIS_URL=redis://:[REDIS_PASSWORD]@[REDIS_HOST]:6379/0
REDIS_TLS=true
REDIS_DB=0
REDIS_MAX_CONNECTIONS=50

# === GOVERNMENT APIs CONFIGURATION ===
# ANTT (Agência Nacional de Transportes Terrestres)
ANTT_API_KEY=[PRODUCTION_ANTT_KEY]
ANTT_BASE_URL=https://www.antt.gov.br
ANTT_RATE_LIMIT=100
ANTT_TIMEOUT=30
ANTT_ENABLED=true

# DOU (Diário Oficial da União)
DOU_API_TOKEN=[PRODUCTION_DOU_TOKEN]
DOU_BASE_URL=https://www.in.gov.br
DOU_RATE_LIMIT=200
DOU_TIMEOUT=60
DOU_ENABLED=true

# Câmara dos Deputados
CAMARA_API_KEY=[PRODUCTION_CAMARA_KEY]
CAMARA_BASE_URL=https://dadosabertos.camara.leg.br/api/v2
CAMARA_RATE_LIMIT=300
CAMARA_TIMEOUT=60
CAMARA_ENABLED=true

# Senado Federal
SENADO_API_KEY=[PRODUCTION_SENADO_KEY]
SENADO_BASE_URL=https://legis.senado.leg.br/dadosabertos
SENADO_RATE_LIMIT=300
SENADO_TIMEOUT=60
SENADO_ENABLED=true

# DNIT (Departamento Nacional de Infraestrutura)
DNIT_API_KEY=[PRODUCTION_DNIT_KEY]
DNIT_BASE_URL=https://www.dnit.gov.br
DNIT_RATE_LIMIT=100
DNIT_TIMEOUT=30
DNIT_ENABLED=true

# Planalto
PLANALTO_API_KEY=[PRODUCTION_PLANALTO_KEY]
PLANALTO_BASE_URL=https://www.in.gov.br
PLANALTO_TIMEOUT=120
PLANALTO_RETRIES=2
PLANALTO_ENABLED=true

# === MONITORING AND OBSERVABILITY ===
# Sentry Error Tracking
SENTRY_DSN=[PRODUCTION_SENTRY_DSN]
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

# Prometheus Metrics
PROMETHEUS_METRICS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana Configuration
GRAFANA_USER=admin_monitor_prod
GRAFANA_PASSWORD=[PRODUCTION_GRAFANA_PASSWORD]
GRAFANA_PORT=3000

# New Relic (if used)
NEW_RELIC_LICENSE_KEY=[NEW_RELIC_LICENSE_KEY]
NEW_RELIC_APP_NAME=monitor_legislativo_v4_prod

# === LOGGING CONFIGURATION ===
LOG_LEVEL=info
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/var/log/monitor-legislativo/app.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=5
LOG_FORMAT=json

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_PATH=/var/log/monitor-legislativo/audit.log

# === RATE LIMITING ===
RATE_LIMIT_STORAGE_URL=redis://:[REDIS_PASSWORD]@[REDIS_HOST]:6379/1
RATE_LIMIT_DEFAULT=1000 per hour
RATE_LIMIT_GOVERNMENT_API=strict

# === EMAIL CONFIGURATION ===
SMTP_HOST=[PRODUCTION_SMTP_HOST]
SMTP_PORT=587
SMTP_USERNAME=[PRODUCTION_SMTP_USER]
SMTP_PASSWORD=[PRODUCTION_SMTP_PASSWORD]
SMTP_FROM_EMAIL=noreply@monitor-legislativo.gov.br
SMTP_TLS=true

# === BACKUP CONFIGURATION ===
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=monitor-legislativo-backups-prod
AWS_BACKUP_REGION=sa-east-1

# === AWS CONFIGURATION ===
AWS_REGION=sa-east-1
AWS_S3_BUCKET=monitor-legislativo-data-prod
# Note: Use IAM roles in production, not access keys

# === PERFORMANCE SETTINGS ===
CACHE_TTL=3600
CACHE_MAX_SIZE=10000
WORKER_PROCESSES=4
WORKER_TIMEOUT=60
MAX_CONTENT_LENGTH=16777216

# === FEATURE FLAGS ===
FEATURE_WEB_UI=true
FEATURE_EXPORT_PDF=true
FEATURE_WEBSOCKET_UPDATES=true
FEATURE_ELASTICSEARCH=true
FEATURE_ADMIN_PANEL=true

# === ELASTICSEARCH ===
ELASTICSEARCH_URL=[PRODUCTION_ELASTICSEARCH_URL]
ELASTICSEARCH_USERNAME=[ELASTICSEARCH_USER]
ELASTICSEARCH_PASSWORD=[ELASTICSEARCH_PASSWORD]
ELASTICSEARCH_INDEX_PREFIX=monitor_legislativo_prod

# === SSL/TLS CONFIGURATION ===
SSL_CERT_PATH=/etc/ssl/certs/monitor-legislativo.crt
SSL_KEY_PATH=/etc/ssl/private/monitor-legislativo.key
SSL_CA_PATH=/etc/ssl/certs/ca-certificates.crt

# === CORS CONFIGURATION ===
CORS_ORIGINS=https://monitor-legislativo.gov.br,https://api.monitor-legislativo.gov.br
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-API-Key

# === SESSION CONFIGURATION ===
SESSION_TYPE=redis
SESSION_PERMANENT=false
SESSION_USE_SIGNER=true
SESSION_KEY_PREFIX=monitor_leg:
SESSION_REDIS=redis://:[REDIS_PASSWORD]@[REDIS_HOST]:6379/2

# === CELERY (Background Jobs) ===
CELERY_BROKER_URL=redis://:[REDIS_PASSWORD]@[REDIS_HOST]:6379/3
CELERY_RESULT_BACKEND=redis://:[REDIS_PASSWORD]@[REDIS_HOST]:6379/3
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=["json"]
CELERY_TIMEZONE=America/Sao_Paulo

# === MONITORING THRESHOLDS ===
ALERT_ERROR_RATE_THRESHOLD=5
ALERT_RESPONSE_TIME_THRESHOLD=500
ALERT_MEMORY_THRESHOLD=80
ALERT_CPU_THRESHOLD=80
ALERT_DISK_THRESHOLD=85

# === MAINTENANCE MODE ===
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Sistema em manutenção. Retornaremos em breve."

# === GEOCODING CONFIGURATION ===
GEOCODING_ENABLED=true
GEOCODING_PROVIDER=nominatim
GEOCODING_CACHE_TTL=86400

# === DOCUMENT PROCESSING ===
MAX_DOCUMENT_SIZE=50MB
ALLOWED_DOCUMENT_TYPES=pdf,doc,docx,txt,html
DOCUMENT_STORAGE_PATH=/var/data/monitor-legislativo/documents

# === NOTIFICATION SETTINGS ===
NOTIFICATIONS_ENABLED=true
WEBHOOK_TIMEOUT=30
SLACK_WEBHOOK_URL=[SLACK_WEBHOOK_URL]
TEAMS_WEBHOOK_URL=[TEAMS_WEBHOOK_URL]

# ===============================================================
# SECURITY NOTES:
# 1. All passwords should be at least 32 characters
# 2. Use different passwords for each service
# 3. Rotate passwords every 90 days
# 4. Never log sensitive configuration values
# 5. Use environment variable substitution in Docker
# ===============================================================

# Generated on: [DEPLOYMENT_DATE]
# Next password rotation: [NEXT_ROTATION_DATE]
# Deployed by: [DEPLOYMENT_USER]